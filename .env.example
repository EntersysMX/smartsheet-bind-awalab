# =====================================================
# CONFIGURACIÓN DEL MIDDLEWARE SMARTSHEET-BIND ERP
# =====================================================
# Copie este archivo a .env y complete los valores

# =====================================================
# BIND ERP
# =====================================================

# API Key de Bind ERP (requerido)
# Obténerlo desde: Panel de Bind -> Configuración -> API
BIND_API_KEY=your_bind_api_key_here

# URL base de la API (no cambiar a menos que sea necesario)
BIND_API_BASE_URL=https://api.bind.com.mx/api

# ID del almacén principal para sincronización de inventario
# Obténerlo consultando GET /Warehouses
BIND_WAREHOUSE_ID=your_warehouse_id

# Configuración de rate limiting (valores por defecto recomendados)
BIND_MAX_REQUESTS_PER_WINDOW=300
BIND_RATE_WINDOW_SECONDS=300
BIND_MAX_RETRIES=5
BIND_INITIAL_BACKOFF=1.0

# =====================================================
# SMARTSHEET
# =====================================================

# Token de acceso de Smartsheet (requerido)
# Obtenerlo desde: Account -> Personal Settings -> API Access
SMARTSHEET_ACCESS_TOKEN=your_smartsheet_token_here

# Secreto del webhook (para verificar firmas)
# Se genera al crear el webhook en Smartsheet
SMARTSHEET_WEBHOOK_SECRET=your_webhook_secret

# ID de la hoja de facturas (requerido)
# Lo encuentras en la URL al abrir la hoja: https://app.smartsheet.com/sheets/XXXXXXXXX
SMARTSHEET_INVOICES_SHEET_ID=0

# ID de la hoja de inventario (opcional)
SMARTSHEET_INVENTORY_SHEET_ID=0

# =====================================================
# SERVIDOR
# =====================================================

# Host y puerto del servidor
SERVER_HOST=0.0.0.0
SERVER_PORT=8001

# Dominio para Traefik (produccion)
SMARTSHEET_BIND_DOMAIN=smartsheet-bind-awalab.entersys.mx

# Modo debug (true/false) - Habilita recarga automatica
DEBUG_MODE=false

# =====================================================
# LOGGING
# =====================================================

# Nivel de log: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Archivo de log
LOG_FILE=middleware.log

# =====================================================
# SCHEDULER
# =====================================================

# Intervalo de sincronización de inventario (en minutos)
# 0 = deshabilitado
SYNC_INVENTORY_INTERVAL_MINUTES=60

# Intervalo de sincronización de facturas Bind -> Smartsheet (en minutos)
# Default: 2 minutos para near-realtime sync
# 0 = deshabilitado
SYNC_INVOICES_INTERVAL_MINUTES=2
